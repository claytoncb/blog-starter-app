(this["webpackJsonpblog-starter-app"]=this["webpackJsonpblog-starter-app"]||[]).push([[0],{31:function(e,t,n){},40:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(11),a=n.n(c),r=n(34),i=n.n(r),s=(n(40),n(15)),u=n(10),o=n(9);function j(e){var t=e.articles,n=e.setArticle;return Object(o.jsx)("nav",{children:t?t.map((function(e){return Object(o.jsx)("p",{onClick:function(){return n(e)},children:e.title},e.id)})):"No articles"})}n(31);function b(e){var t=e.comments,n=e.addComment,a=e.arName,r=e.name,i=Object(c.useState)(""),s=Object(u.a)(i,2),j=s[0],b=s[1],l=Object(c.useState)(null),d=Object(u.a)(l,2),O=d[0],m=d[1];return Object(o.jsxs)("div",{children:[Object(o.jsxs)("form",{onSubmit:function(e){m(null),e.preventDefault(),j.trim()?(n({arName:a,body:j,name:r}),b("")):m("Both the title and body must be supplied")},children:[O&&Object(o.jsx)("p",{className:"error",children:O}),"Add Comment",Object(o.jsx)("textarea",{className:"form",rows:"2",value:j,onChange:function(e){return b(e.target.value)}}),Object(o.jsx)("button",{type:"submit",children:"Create"})]}),Object(o.jsx)("div",{children:"Comment Section"}),Object(o.jsx)("nav",{children:t?t.map((function(e){return Object(o.jsxs)("p",{children:[e.name," :  ",e.body]},e.date)})):"No comments"})]})}function l(e){var t=e.article,n=e.title,c=e.comments,a=e.addComment,r=e.name;return Object(o.jsxs)("article",{children:[Object(o.jsx)("div",{className:"article",children:t?Object(o.jsx)("section",{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:t.title}),Object(o.jsxs)("h3",{children:["By: ",t.author]}),Object(o.jsx)("p",{className:"date",children:"Posted: ".concat(t.date)}),Object(o.jsx)("p",{className:"body",children:t.body})]})}):Object(o.jsx)("p",{children:"No article selected"})}),Object(o.jsx)("div",{className:"comments",children:t?Object(o.jsx)(b,{comments:c,addComment:a,arName:n,name:r}):Object(o.jsx)("p",{})})]})}function d(e){var t=e.addArticle,n=e.author,a=Object(c.useState)(""),r=Object(u.a)(a,2),i=r[0],s=r[1],j=Object(c.useState)(""),b=Object(u.a)(j,2),l=b[0],d=b[1],O=Object(c.useState)(null),m=Object(u.a)(O,2),p=m[0],f=m[1];return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:function(e){f(null),e.preventDefault(),i.trim()&&l.trim()?t({title:i,body:l,author:n}):f("Both the title and body must be supplied")},children:[p&&Object(o.jsx)("p",{className:"error",children:p}),"Title",Object(o.jsx)("input",{value:i,onChange:function(e){return s(e.target.value)}}),"Body",Object(o.jsx)("textarea",{rows:"8",value:l,onChange:function(e){return d(e.target.value)}}),Object(o.jsx)("button",{type:"submit",children:"Create"})]})})}var O=n(0),m=n.n(O),p=n(26),f=n(2),h=n(35),x=n(24),y=n(19),v=Object(h.a)({apiKey:"AIzaSyCin3qgWf3eGCBKo-YJsIg1YNdXEr2L3uA",authDomain:"clay-firestore-app.firebaseapp.com",projectId:"clay-firestore-app",storageBucket:"clay-firestore-app.appspot.com",messagingSenderId:"248934231677",appId:"1:248934231677:web:4288e6119fd1b24fd20b14",measurementId:"G-KNNF34K0NB"}),N=Object(x.b)(),S=Object(y.d)(v);function g(){return(g=Object(f.a)(m.a.mark((function e(t){var n,c,a,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,c=t.body,a=t.author,r={title:n,body:c,author:a,date:new Date},e.next=4,Object(y.a)(Object(y.b)(S,"articles"),r);case 4:return i=e.sent,e.abrupt("return",Object(p.a)({id:i.id},r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(f.a)(m.a.mark((function e(t){var n,c,a,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.arName,c=t.body,a=t.name,r={arName:n,body:c,name:a,date:new Date},e.next=4,Object(y.a)(Object(y.b)(S,"comments"),r);case 4:return i=e.sent,e.abrupt("return",Object(p.a)({id:i.id},r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(Object(y.b)(S,"articles"),Object(y.f)("date","desc"),Object(y.e)(50));case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return Object(p.a)({id:e.id},e.data())})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(Object(y.b)(S,"comments"),Object(y.f)("date","desc"),Object(y.e)(50));case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(p.a)({id:e.id},e.data())})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return Object(o.jsx)("button",{onClick:function(){return Object(x.c)(N,new x.a)},children:"Sign In"})}function B(){return Object(o.jsxs)("div",{children:["Hello, ",N.currentUser.displayName," \xa0",Object(o.jsx)("button",{onClick:function(){return Object(x.d)(N)},children:"Sign Out"})]})}function E(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),i=Object(u.a)(r,2),b=i[0],O=i[1],m=Object(c.useState)(""),p=Object(u.a)(m,2),f=p[0],h=p[1],x=Object(c.useState)([]),y=Object(u.a)(x,2),v=y[0],S=y[1],E=Object(c.useState)(null),I=Object(u.a)(E,2),D=I[0],K=I[1],J=Object(c.useState)([]),G=Object(u.a)(J,2),Y=G[0],q=G[1],z=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){return N.onAuthStateChanged((function(e){a(e||null)}))}),[]),n}(),F=Object(c.useState)(""),H=Object(u.a)(F,2),L=H[0],M=H[1];return Object(c.useEffect)((function(){q([])}),[v,b]),Object(c.useEffect)((function(){z&&function(){return w.apply(this,arguments)}().then(a),z&&z.displayName&&M(z.displayName)}),[z]),Object(c.useEffect)((function(){null!=b&&null!=v&&0===Object.keys(Y).length&&v.forEach((function(e){e.arName===b.title&&q((function(t){return[].concat(Object(s.a)(t),[e])}))}))})),Object(c.useEffect)((function(){z&&function(e){return k.apply(this,arguments)}(b).then(S),null!=b&&null!=b.title&&h(b.title)}),[b,z]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("header",{children:["Blog",z&&Object(o.jsx)("button",{onClick:function(){return K(!0)},children:"New Article"}),z?Object(o.jsx)(B,{}):Object(o.jsx)(A,{})]}),z?Object(o.jsx)(j,{articles:n,setArticle:O}):"",z?D?Object(o.jsx)(d,{addArticle:function(e){(function(e){return g.apply(this,arguments)})({title:e.title,body:e.body,author:e.author}).then((function(e){O(e),a([e].concat(Object(s.a)(n)))})),K(!1)},author:L}):Object(o.jsx)("div",{children:Object(o.jsx)(l,{article:b,title:f,comments:Y,addComment:function(e){(function(e){return C.apply(this,arguments)})({arName:e.arName,body:e.body,name:e.name}).then((function(e){S([e].concat(Object(s.a)(v)))}))},name:L})}):Object(o.jsx)("div",{})]})}i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(E,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.09f3ed90.chunk.js.map